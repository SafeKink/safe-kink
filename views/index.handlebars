
<!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#">SafeKink</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="#about">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">State Info</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <header class="masthead text-center text-white">
      <div class="masthead-content">
        <div class="container container-fluid">
          <h1 class="masthead-heading mb-0">sexual health risks</h1>
          <h3 class="masthead-subheading mb-0">Protect yourself from today's biggest dangers.</h3>
          <a href="#" class="open-modal btn btn-primary btn-xl rounded-pill mt-5">Learn More</a>
        </div>
    </header>

    <section id="about">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-6 order-lg-2">
            <div class="p-5">
              <img class="img-fluid rounded-circle" src="./images/01.jpg" alt="">
            </div>
          </div>
          <div class="col-lg-6 order-lg-1">
            <div class="p-5">
              <h2 class="display-4">For those about to rock...</h2>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quod aliquid, mollitia odio veniam sit iste esse assumenda amet aperiam exercitationem, ea animi blanditiis recusandae! Ratione voluptatum molestiae adipisci, beatae obcaecati.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

{{!--     <section>
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-6">
            <div class="p-5">
              <img class="img-fluid rounded-circle" src="./images/02.jpg" alt="">
            </div>
          </div>
          <div class="col-lg-6">
            <div class="p-5">
              <h2 class="display-4">We salute you!</h2>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quod aliquid, mollitia odio veniam sit iste esse assumenda amet aperiam exercitationem, ea animi blanditiis recusandae! Ratione voluptatum molestiae adipisci, beatae obcaecati.</p>
            </div>
          </div>
        </div>
      </div>
    </section> --}}

    <section>
      <div class="container" id="map">
          <div class="row">
              {{!-- <div id="tooltip"></div> --}}
              <!-- div to hold tooltip. -->
              <!-- Button trigger modal -->
              <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLongTitle"></h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                      <button type="button" class="btn btn-primary">Save changes</button>
                    </div>
                  </div>
                </div>
              </div>
              {{!-- modal ends --}}
              <svg width="960" height="600" id="statesvg"></svg> <!-- svg to hold the map. -->
          </div>
      </div>
    </section>
<!-- Section dropdown menu for states -->
    <section>
      <form class="dropdown" action="">
  <select>

    {{#each states}}
      <option value="{{this.id}}">{{this.name}}</option>
    {{/each}}

  </select>
  <br><br>

  <button id="clicked">Submit</button>
  <div class="statesInfo"></div>

</form>
<!--
      <div class="container container-fluid" id="dropDown">
          <div class="row">
            <div class="col">
              <div class="btn-group">
                <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  State
                </button>
                <div class="dropdown-menu">
                  <a class="dropdown-item" href="#">Action</a>
                  <a class="dropdown-item" href="#">Another action</a>
                  <a class="dropdown-item" href="#">Something else here</a>
                </div>
              </div>
          </div>
        </div>
      </div>
-->
    </section>
<!-- END OF Section dropdown menu for states -->

    <section>
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-6 order-lg-2">
            <div class="p-5">
              <img class="img-fluid rounded-circle" src="./images/03.jpg" alt="">
            </div>
          </div>
          <div class="col-lg-6 order-lg-1">
            <div class="p-5">
              <h2 class="display-4">Let there be rock!</h2>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quod aliquid, mollitia odio veniam sit iste esse assumenda amet aperiam exercitationem, ea animi blanditiis recusandae! Ratione voluptatum molestiae adipisci, beatae obcaecati.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="py-5 bg-black">
      <div class="container">
        <p class="m-0 text-center text-white small">Copyright &copy; Your Website 2018</p>
      </div>
      <!-- /.container -->
    </footer>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script>
$( document ).ready(function() {

//When change made
$('select').on('change', function() {
    console.log("a change has been made!!" + $(this).val() );
    $('form.dropdown').attr('action', '/api/states/' + $(this).val() + '?_method=GET');
  }); //select change

  $( "#clicked" ).click(function(event) {
    event.preventDefault();
    console.log("hello" + $('select').val() );

   $.get("/api/states/" + $('select').val(), function( data ) {
      console.log(data);

      $(".statesInfo").empty();

      for(var i in data){
        
        var pSTI = data[i].STI;
        var pCases = data[i].Cases;
        var pPopulation = data[i].Population;
        var pRate = data[i].Rate;

        var newLine = $('<br />');
        $('.statesInfo').append(pSTI).append(pCases).append(pPopulation).append(pRate).append(newLine);
      }
      $( ".result" ).html( data );
      var pTag = $('<p>');
      pTag.append(data);
      $('.stateInfo').append(pTag);
    });
 });
}); //doc ready

</script>